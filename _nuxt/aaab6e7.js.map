{"version":3,"sources":["webpack:///./components/Login.vue?3a15","webpack:///./components/Login.vue?4283","webpack:///./components/Login.vue?ff66","webpack:///./components/Login.vue","webpack:///./pages/login.vue?05ab","webpack:///./pages/login.vue?4dbb","webpack:///./pages/login.vue?d2c1","webpack:///./pages/login.vue"],"names":["email","password","passwordConfirm","nickname","type","extend","data","userLogin","alerts","processing","computed","isCheckedLogin","this","$data","mounted","methods","onLogin","User","loginWithEmail","then","_","$router","push","name","catch","error","errorMessage","message","dismissible","variant","show","fade","content","onRegister","newUser","setEmail","setUsername","setPassword","set","signUp","onDismissed","index","splice","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","$set","expression","_v","on","$event","preventDefault","_e","_s","_l","a","key","dismissLabel","installComponents","Login","default"],"mappings":"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","file":"aaab6e7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"text-center\"},[_c('b-form-radio-group',{staticClass:\"mx-auto\",attrs:{\"buttons\":\"\"},model:{value:(_vm.userLogin.type),callback:function ($$v) {_vm.$set(_vm.userLogin, \"type\", $$v)},expression:\"userLogin.type\"}},[_c('b-form-radio',{attrs:{\"value\":\"login\"}},[_vm._v(\"\\n        登录\\n      \")]),_vm._v(\" \"),_c('b-form-radio',{attrs:{\"value\":\"register\"}},[_vm._v(\"\\n        注册\\n      \")])],1)],1),_vm._v(\" \"),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();_vm.isCheckedLogin ? _vm.onLogin() : _vm.onRegister()}}},[_c('b-form-group',{attrs:{\"id\":\"gLoginEmail\",\"label\":\"邮箱：\",\"label-for\":\"loginEmail\"}},[_c('b-form-input',{attrs:{\"id\":\"loginEmail\",\"type\":\"email\",\"placeholder\":\"输入邮箱\",\"required\":\"\"},model:{value:(_vm.userLogin.email),callback:function ($$v) {_vm.$set(_vm.userLogin, \"email\", $$v)},expression:\"userLogin.email\"}})],1),_vm._v(\" \"),(!_vm.isCheckedLogin)?_c('b-form-group',{attrs:{\"id\":\"gLoginNickname\",\"label\":\"昵称\",\"label-for\":\"loginNickname\"}},[_c('b-form-input',{attrs:{\"id\":\"loginNickname\",\"type\":\"text\",\"placeholder\":\"输入昵称\",\"required\":\"\"},model:{value:(_vm.userLogin.nickname),callback:function ($$v) {_vm.$set(_vm.userLogin, \"nickname\", $$v)},expression:\"userLogin.nickname\"}})],1):_vm._e(),_vm._v(\" \"),_c('b-form-group',{attrs:{\"id\":\"gLoginPassword\",\"label\":\"密码\",\"label-for\":\"loginPassword\"}},[_c('b-form-input',{attrs:{\"id\":\"loginPassword\",\"placeholder\":\"输入密码\",\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.userLogin.password),callback:function ($$v) {_vm.$set(_vm.userLogin, \"password\", $$v)},expression:\"userLogin.password\"}})],1),_vm._v(\" \"),(!_vm.isCheckedLogin)?_c('b-form-group',{attrs:{\"id\":\"gLoginPasswordConfirm\",\"label\":\"重复密码：\",\"label-for\":\"loginPasswordConfirm\"}},[_c('b-form-input',{attrs:{\"id\":\"loginPasswordConfirm\",\"placeholder\":\"输入重复密码\",\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.userLogin.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.userLogin, \"passwordConfirm\", $$v)},expression:\"userLogin.passwordConfirm\"}})],1):_vm._e(),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":_vm.processing}},[_vm._v(\"\\n      \"+_vm._s(_vm.isCheckedLogin ? '登录' : '注册')+\"\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"alert-container position-fixed\"},_vm._l((_vm.alerts),function(a,index){return _c('b-alert',{key:index,attrs:{\"dismissible\":a.dismissible ? a.dismissible : false,\"dismiss-label\":a.dismissLabel ? a.dismissLabel : 'Close',\"fade\":a.fade ? a.fade : false,\"variant\":a.variant ? a.variant : 'info'},on:{\"dismissed\":function($event){return _vm.onDismissed(a, index)}},model:{value:(a.show),callback:function ($$v) {_vm.$set(a, \"show\", $$v)},expression:\"a.show\"}},[_vm._v(\"\\n      \"+_vm._s(a.content)+\"\\n    \")])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport AV from 'leancloud-storage'\n\nclass UserLogin {\n  email: string = ''\n  password: string = ''\n  passwordConfirm: string = ''\n  nickname: string = ''\n  type: 'login'|'register' = 'login'\n}\n\nclass Alert {\n  dismissible: boolean = false\n  fade: boolean = false\n  variant: string = 'info'\n  show: boolean |number | string = false\n  dismissLabel?: string = 'Close'\n  content: string = ''\n}\n\nexport default Vue.extend({\n  data () {\n    const userLogin = new UserLogin()\n    const alerts: Array<Alert> = []\n    return {\n      userLogin,\n      alerts,\n      processing: false\n    }\n  },\n  computed: {\n    isCheckedLogin () {\n      return this.$data.userLogin.type === 'login'\n    }\n  },\n  mounted () {\n  },\n  methods: {\n    onLogin () {\n      this.processing = true\n      const userLogin = this.userLogin\n      AV.User.loginWithEmail(userLogin.email, userLogin.password)\n        .then((_) => {\n          this.$router.push({\n            name: 'index'\n          })\n          this.processing = false\n        })\n        .catch((error) => {\n          const errorMessage = error.message\n          this.alerts.push({\n            dismissible: true,\n            variant: 'danger',\n            show: 5,\n            fade: true,\n            content: errorMessage\n          })\n          this.processing = false\n        })\n    },\n    onRegister () {\n      this.processing = true\n      let errorMessage: string | undefined\n      const userLogin = this.userLogin\n      if (userLogin.password !== userLogin.passwordConfirm) {\n        errorMessage = '重复密码不匹配'\n        this.processing = false\n      } else {\n        const newUser = new AV.User()\n        newUser.setEmail(userLogin.email)\n        newUser.setUsername(userLogin.email)\n        newUser.setPassword(userLogin.password)\n        newUser.set('nickname', userLogin.nickname)\n        newUser.signUp()\n          .then((_) => {\n            this.$router.push({\n              name: 'index'\n            })\n            this.processing = false\n          })\n          .catch((error) => {\n            const errorMessage = error.message\n            this.alerts.push({\n              dismissible: true,\n              variant: 'danger',\n              show: 5,\n              fade: true,\n              content: errorMessage\n            })\n            this.processing = false\n          })\n      }\n      if (errorMessage) {\n        this.alerts.push({\n          dismissible: true,\n          variant: 'danger',\n          show: 5,\n          fade: true,\n          content: errorMessage\n        })\n      }\n    },\n    onDismissed (_: Alert, index: number) {\n      this.alerts.splice(index, 1)\n    }\n  }\n})\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7350efc2&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('Login')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\nimport Vue from 'vue'\nexport default Vue.extend({\n\n})\n","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=4bf7ae74&\"\nimport script from \"./login.vue?vue&type=script&lang=ts&\"\nexport * from \"./login.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Login: require('/home/runner/work/Killer_Bar/Killer_Bar/components/Login.vue').default})\n"],"sourceRoot":""}